/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/qrcode@1.5.0/lib/server.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const canPromise=require("./can-promise"),QRCode=require("./core/qrcode"),PngRenderer=require("./renderer/png"),Utf8Renderer=require("./renderer/utf8"),TerminalRenderer=require("./renderer/terminal"),SvgRenderer=require("./renderer/svg");function checkParams(e,r,t){if(void 0===e)throw new Error("String required as first argument");if(void 0===t&&(t=r,r={}),"function"!=typeof t){if(!canPromise())throw new Error("Callback required as last argument");r=t||{},t=null}return{opts:r,cb:t}}function getTypeFromFilename(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0)).toLowerCase()}function getRendererFromType(e){switch(e){case"svg":return SvgRenderer;case"txt":case"utf8":return Utf8Renderer;default:return PngRenderer}}function getStringRendererFromType(e){switch(e){case"svg":return SvgRenderer;case"terminal":return TerminalRenderer;default:return Utf8Renderer}}function render(e,r,t){if(!t.cb)return new Promise((function(n,o){try{const i=QRCode.create(r,t.opts);return e(i,t.opts,(function(e,r){return e?o(e):n(r)}))}catch(e){o(e)}}));try{const n=QRCode.create(r,t.opts);return e(n,t.opts,t.cb)}catch(e){t.cb(e)}}exports.create=QRCode.create,exports.toCanvas=require("./browser").toCanvas,exports.toString=function(e,r,t){const n=checkParams(e,r,t);return render(getStringRendererFromType(n.opts?n.opts.type:void 0).render,e,n)},exports.toDataURL=function(e,r,t){const n=checkParams(e,r,t);return render(getRendererFromType(n.opts.type).renderToDataURL,e,n)},exports.toBuffer=function(e,r,t){const n=checkParams(e,r,t);return render(getRendererFromType(n.opts.type).renderToBuffer,e,n)},exports.toFile=function(e,r,t,n){if("string"!=typeof e||"string"!=typeof r&&"object"!=typeof r)throw new Error("Invalid argument");if(arguments.length<3&&!canPromise())throw new Error("Too few arguments provided");const o=checkParams(r,t,n),i=o.opts.type||getTypeFromFilename(e),c=getRendererFromType(i),s=c.renderToFile.bind(null,e);return render(s,r,o)},exports.toFileStream=function(e,r,t){if(arguments.length<2)throw new Error("Too few arguments provided");const n=checkParams(r,t,e.emit.bind(e,"error")),o=getRendererFromType("png"),i=o.renderToFileStream.bind(null,e);render(i,r,n)};
//# sourceMappingURL=/sm/b16566f4f55dc2e4db19a2680df4ea7edfb891315a9337e41fcb92d9f3fb5631.map