/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/qrcode@1.5.0/lib/core/version.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const Utils=require("./utils"),ECCode=require("./error-correction-code"),ECLevel=require("./error-correction-level"),Mode=require("./mode"),VersionCheck=require("./version-check"),G18=7973,G18_BCH=Utils.getBCHDigit(G18);function getBestVersionForDataLength(e,t,r){for(let o=1;o<=40;o++)if(t<=exports.getCapacity(o,r,e))return o}function getReservedBitsCount(e,t){return Mode.getCharCountIndicator(e,t)+4}function getTotalBitsFromDataArray(e,t){let r=0;return e.forEach((function(e){const o=getReservedBitsCount(e.mode,t);r+=o+e.getBitsLength()})),r}function getBestVersionForMixedData(e,t){for(let r=1;r<=40;r++){if(getTotalBitsFromDataArray(e,r)<=exports.getCapacity(r,t,Mode.MIXED))return r}}exports.from=function(e,t){return VersionCheck.isValid(e)?parseInt(e,10):t},exports.getCapacity=function(e,t,r){if(!VersionCheck.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=Mode.BYTE);const o=8*(Utils.getSymbolTotalCodewords(e)-ECCode.getTotalCodewordsCount(e,t));if(r===Mode.MIXED)return o;const i=o-getReservedBitsCount(r,e);switch(r){case Mode.NUMERIC:return Math.floor(i/10*3);case Mode.ALPHANUMERIC:return Math.floor(i/11*2);case Mode.KANJI:return Math.floor(i/13);case Mode.BYTE:default:return Math.floor(i/8)}},exports.getBestVersionForData=function(e,t){let r;const o=ECLevel.from(t,ECLevel.M);if(Array.isArray(e)){if(e.length>1)return getBestVersionForMixedData(e,o);if(0===e.length)return 1;r=e[0]}else r=e;return getBestVersionForDataLength(r.mode,r.getLength(),o)},exports.getEncodedBits=function(e){if(!VersionCheck.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Utils.getBCHDigit(t)-G18_BCH>=0;)t^=G18<<Utils.getBCHDigit(t)-G18_BCH;return e<<12|t};
//# sourceMappingURL=/sm/cecffc8f35845843a15794f00a10479374e26de2ad61d871c204e1358e12e409.map