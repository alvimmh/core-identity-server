/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/qrcode@1.5.0/lib/core/mask-pattern.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
exports.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const PenaltyScores={N1:3,N2:3,N3:40,N4:10};function getMaskAt(t,e,r){switch(t){case exports.Patterns.PATTERN000:return(e+r)%2==0;case exports.Patterns.PATTERN001:return e%2==0;case exports.Patterns.PATTERN010:return r%3==0;case exports.Patterns.PATTERN011:return(e+r)%3==0;case exports.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case exports.Patterns.PATTERN101:return e*r%2+e*r%3==0;case exports.Patterns.PATTERN110:return(e*r%2+e*r%3)%2==0;case exports.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}exports.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},exports.from=function(t){return exports.isValid(t)?parseInt(t,10):void 0},exports.getPenaltyN1=function(t){const e=t.size;let r=0,s=0,n=0,o=null,a=null;for(let l=0;l<e;l++){s=n=0,o=a=null;for(let P=0;P<e;P++){let e=t.get(l,P);e===o?s++:(s>=5&&(r+=PenaltyScores.N1+(s-5)),o=e,s=1),e=t.get(P,l),e===a?n++:(n>=5&&(r+=PenaltyScores.N1+(n-5)),a=e,n=1)}s>=5&&(r+=PenaltyScores.N1+(s-5)),n>=5&&(r+=PenaltyScores.N1+(n-5))}return r},exports.getPenaltyN2=function(t){const e=t.size;let r=0;for(let s=0;s<e-1;s++)for(let n=0;n<e-1;n++){const e=t.get(s,n)+t.get(s,n+1)+t.get(s+1,n)+t.get(s+1,n+1);4!==e&&0!==e||r++}return r*PenaltyScores.N2},exports.getPenaltyN3=function(t){const e=t.size;let r=0,s=0,n=0;for(let o=0;o<e;o++){s=n=0;for(let a=0;a<e;a++)s=s<<1&2047|t.get(o,a),a>=10&&(1488===s||93===s)&&r++,n=n<<1&2047|t.get(a,o),a>=10&&(1488===n||93===n)&&r++}return r*PenaltyScores.N3},exports.getPenaltyN4=function(t){let e=0;const r=t.data.length;for(let s=0;s<r;s++)e+=t.data[s];return Math.abs(Math.ceil(100*e/r/5)-10)*PenaltyScores.N4},exports.applyMask=function(t,e){const r=e.size;for(let s=0;s<r;s++)for(let n=0;n<r;n++)e.isReserved(n,s)||e.xor(n,s,getMaskAt(t,n,s))},exports.getBestMask=function(t,e){const r=Object.keys(exports.Patterns).length;let s=0,n=1/0;for(let o=0;o<r;o++){e(o),exports.applyMask(o,t);const r=exports.getPenaltyN1(t)+exports.getPenaltyN2(t)+exports.getPenaltyN3(t)+exports.getPenaltyN4(t);exports.applyMask(o,t),r<n&&(n=r,s=o)}return s};
//# sourceMappingURL=/sm/dde857abc13872757db3be9c13ec8a09fc8c4b553322857d60cd6da14b238453.map